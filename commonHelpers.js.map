{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getPictures(query){\n    const BASE_URL = 'https://pixabay.com/api/'\n    const params = new URLSearchParams({\n        key: '42978821-e3c6f538b5791c0a766c3ba19',\n        q: query,\n        image_type: 'photo', \n        orientation: 'horizontal',\n        safesearch: true\n    })\n    const url = `${BASE_URL}?${params}`;\n    const images = fetch(url)\n    .then(res => res.json())\n    .then(data => data.hits)\n    .catch(error => console.log(error))\n\n\n    return images;\n}\n","export function renderElement({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\nreturn `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href= ${largeImageURL}>  \n        <img class=\"gallery-image\"\n            src= \"${webformatURL}\"\n            alt = \"${tags}\"\n        />\n    </a>\n    <div class=\"container\"><h3 class=\"header\">Likes\n        <p class=\"views\">${likes}</p>\n    </h3>\n    <h3 class=\"header\">Views\n    <p class=\"views\">${views}</p>\n    </h3>\n    <h3 class=\"header\">Comments\n    <p class=\"views\">${comments}</p>\n    </h3>\n    <h3 class=\"header\">Downloads\n    <p class=\"views\">${downloads}</p>\n    </h3>\n    </div>\n    \n</li>`\n}\n\nexport function renderElements(arr) {\nreturn arr.map(renderElement).join('');\n}","\nimport './js/pixabay-api.js'\nimport './js/render-functions.js'\nimport { getPictures } from './js/pixabay-api.js';\nimport { renderElement } from './js/render-functions.js';\nimport { renderElements } from './js/render-functions.js';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport css from './css/styles.css'\n\nconst form = document.querySelector('.form')\nconst button = document.querySelector('#search')\nconst gallery = document.querySelector('.gallery')\n\nform.addEventListener('submit', handleSubmit)\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    const inputValue = event.currentTarget.elements.input.value.trim();\n    if(!inputValue){\n        iziToast.warning({\n            title: 'Caution',\n            message: 'You forgot to fill in the form!',\n            position: 'topCenter'\n        });\n        return;\n    }\n    showLoader()\n    getPictures(inputValue)\n    .then(images => {\n        hideLoader()\n        if(images.length === 0) {\n            iziToast.error({\n                title: 'Search result',\n                message: 'Sorry, there are no images matching your search query. Please try again.',\n                position: 'topCenter'\n            });\n            return;\n        }\n        const markup = renderElements(images);\n        gallery.innerHTML = markup;\n\n        let gallerySlider = new SimpleLightbox('.gallery a', {\n            captionDelay: 250,\n            captionsData: 'alt',\n        }).refresh()\n    })\n    .catch(error => {\n        iziToast.error({\n            title: 'Error',\n            message: `Failed to load images. Please try again later. Error: ${error.message}`,\n            position: 'topCenter'\n        });\n    })\n\n    form.reset()\n}\n\nfunction showLoader() {\n    const loader = document.createElement('div');\n    loader.className = 'loader';\n    form.insertAdjacentElement('afterend', loader)\n}\n\nfunction hideLoader() {\n    const loader = document.querySelector('.loader');\n    if (loader) {\n        loader.remove();\n    }\n}\n"],"names":["getPictures","query","BASE_URL","params","url","res","data","error","renderElement","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderElements","arr","form","gallery","handleSubmit","event","inputValue","iziToast","showLoader","images","hideLoader","markup","SimpleLightbox","loader"],"mappings":"6vBAAO,SAASA,EAAYC,EAAM,CAC9B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAOjC,OANe,MAAMC,CAAG,EACvB,KAAKC,GAAOA,EAAI,MAAM,EACtB,KAAKC,GAAQA,EAAK,IAAI,EACtB,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAItC,CCjBO,SAASC,EAAc,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CACtG,MAAO;AAAA,oCAC6BL,CAAa;AAAA;AAAA,oBAE7BD,CAAY;AAAA,qBACXE,CAAI;AAAA;AAAA;AAAA;AAAA,2BAIEC,CAAK;AAAA;AAAA;AAAA,uBAGTC,CAAK;AAAA;AAAA;AAAA,uBAGLC,CAAQ;AAAA;AAAA;AAAA,uBAGRC,CAAS;AAAA;AAAA;AAAA;AAAA,MAKhC,CAEO,SAASC,EAAeC,EAAK,CACpC,OAAOA,EAAI,IAAIT,CAAa,EAAE,KAAK,EAAE,CACrC,CCZA,MAAMU,EAAO,SAAS,cAAc,OAAO,EAC5B,SAAS,cAAc,SAAS,EAC/C,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,MAAM,MAAM,OAC5D,GAAG,CAACC,EAAW,CACXC,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,kCACT,SAAU,WACtB,CAAS,EACD,MACH,CACDC,EAAY,EACZxB,EAAYsB,CAAU,EACrB,KAAKG,GAAU,CAEZ,GADAC,EAAY,EACTD,EAAO,SAAW,EAAG,CACpBF,EAAS,MAAM,CACX,MAAO,gBACP,QAAS,2EACT,SAAU,WAC1B,CAAa,EACD,MACH,CACD,MAAMI,EAASX,EAAeS,CAAM,EACpCN,EAAQ,UAAYQ,EAEA,IAAIC,EAAe,aAAc,CACjD,aAAc,IACd,aAAc,KACjB,CAAA,EAAE,QAAS,CACpB,CAAK,EACA,MAAMrB,GAAS,CACZgB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,yDAAyDhB,EAAM,OAAO,GAC/E,SAAU,WACtB,CAAS,CACT,CAAK,EAEDW,EAAK,MAAO,CAChB,CAEA,SAASM,GAAa,CAClB,MAAMK,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAY,SACnBX,EAAK,sBAAsB,WAAYW,CAAM,CACjD,CAEA,SAASH,GAAa,CAClB,MAAMG,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACAA,EAAO,OAAM,CAErB"}